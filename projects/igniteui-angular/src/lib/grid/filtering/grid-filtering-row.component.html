<igx-drop-down #operands [allowItemsFocus]="true" (onSelection)="onOperandChanged($event)">
    <igx-drop-down-item
    *ngFor="let condition of conditions"
    [value]="condition"
    [igxDropDownItemNavigation]="operands"
    [isSelected]="isConditionSelected(condition)">
        <div>
            <igx-icon fontSet="filtering-icons" name="{{ condition.iconName }}"></igx-icon>
            <span>{{ condition | filterCondition | titlecase }}</span>
        </div>
    </igx-drop-down-item>
</igx-drop-down>

<ng-template #defaultFilterUI>
    <igx-input-group type="box" >
        <igx-prefix (click)="toggleDropDown($event.target)">
            <igx-icon #operandsIcon>filter_list</igx-icon>
        </igx-prefix>
        <input #input igxInput
        [placeholder]="placeholder"
        autocomplete="off"
        [(ngModel)]="value"
        [readonly]="isUnaryCondition"/>
        <igx-suffix *ngIf="input.value.length > 0" (click)="clearInput()">
            <igx-icon>clear</igx-icon>
        </igx-suffix>
    </igx-input-group>
</ng-template>

<ng-template #defaultDateUI>
    <igx-datePicker
        [outlet]="gridOutlet"
        [(ngModel)]="value">
        <ng-template igxDatePickerTemplate let-openDialog="openDialog" let-displayData="displayData">
            <igx-input-group type="box">
                <igx-prefix (click)="toggleDropDown($event.target)">
                    <igx-icon #operandsIcon>filter_list</igx-icon>
                </igx-prefix>
                <input #datePickerInput igxInput
                (click)="openDialog()"
                [placeholder]="placeholder"
                autocomplete="off"
                [value]="displayData"
                readonly/>
                <igx-suffix *ngIf="datePickerInput.value.length > 0" (click)="clearInput()">
                    <igx-icon>clear</igx-icon>
                </igx-suffix>
            </igx-input-group>
            </ng-template>
    </igx-datePicker>
</ng-template>

<div class="igx-grid__filtering-row-main">
    <ng-container *ngTemplateOutlet="template; context: { $implicit: this }"></ng-container>

    <igx-chips-area #chipsArea (onSelection)="onChipsSelectionChanged($event)">
        <igx-chip *ngFor="let item of expressionsList; index as i"
            (onSelection)="onChipSelected($event, item.expression)"
            (onRemove)="onChipRemoved($event, item)"
            [selectable]="true"
            [selected]="item.isSelected"
            [removable]="true">
            <span [class]="'igx-chip__text'">{{getChipLabel(item.expression)}}</span>
            <span igxConnector>
                <button igxButton (click)="toggleOperatorsDropDown($event, i)">
                    <igx-icon>expand_more</igx-icon>
                    <span>{{getOperator(item.afterOperator)}}</span>
                </button>
                <igx-drop-down #operators (onSelection)="onLogicOperatorChanged($event, item)" [allowItemsFocus]="true">
                        <igx-drop-down-item [igxDropDownItemNavigation]="operators" [value]="0" [isSelected]="item.afterOperator === 0">And</igx-drop-down-item>
                        <igx-drop-down-item [igxDropDownItemNavigation]="operators" [value]="1" [isSelected]="item.afterOperator === 1">Or</igx-drop-down-item>
                </igx-drop-down>
            </span>
        </igx-chip>
    </igx-chips-area>
</div>

<div class="igx-grid__filtering-row-editing-buttons">
    <button igxButton igxRipple (click)="clearFiltering()" [disabled]="disabled">Reset</button>
    <button igxButton igxRipple (click)="close()">Close</button>
</div>
