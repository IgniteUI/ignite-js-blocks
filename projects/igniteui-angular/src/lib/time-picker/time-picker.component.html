<!-- [preventSpinOnWheel]="!this.isDropdown" -->
<igx-input-group [suppressInputAutofocus]="this.isDropdown" (click)="!this.isDropdown && this.open()">
    <input igxInput [igxDateTimeEditor]="this.inputFormat" type="text" [readonly]="!this.isDropdown"
        [spinDelta]="this.itemsDelta" [disabled]="this.disabled" [displayFormat]="this.displayFormat"
        role="combobox" aria-haspopup="dialog"
        [attr.aria-expanded]="!this.toggleDirective.collapsed" [attr.aria-labelledby]="this.label?.id" />

    <igx-prefix *ngIf="!this.toggleComponents.length" (click)="this.toggle()">
        <ng-container *ngTemplateOutlet="defaultToggleIcon"></ng-container>
    </igx-prefix>

    <igx-suffix *ngIf="this.showClearButton" igxRipple (click)="this.clear()">
        <ng-container *ngTemplateOutlet="defaultClearIcon"></ng-container>
    </igx-suffix>

    <ng-container ngProjectAs="[igxLabel]">
        <ng-content select="[igxLabel]"></ng-content>
    </ng-container>
    <ng-container ngProjectAs="igx-prefix">
        <ng-content select="igx-prefix,[igxPrefix]"></ng-content>
    </ng-container>
    <ng-container ngProjectAs="igx-suffix">
        <ng-content select="igx-suffix,[igxSuffix]"></ng-content>
    </ng-container>
    <ng-container ngProjectAs="igx-hint">
        <ng-content select="igx-hint,[igxHint]"></ng-content>
    </ng-container>
</igx-input-group>


<ng-template #defaultToggleIcon>
    <igx-icon fontSet="material">
        access_time
    </igx-icon>
</ng-template>

<ng-template #defaultClearIcon>
    <igx-icon fontSet="material">
        clear
    </igx-icon>
</ng-template>

<ng-template #defaultTimePickerActions>
    <div *ngIf="this.cancelButtonLabel || this.okButtonLabel" class="igx-time-picker__buttons">
        <button *ngIf="this.cancelButtonLabel" igxButton="flat" (click)="this.cancelButtonClick()">
            {{this.cancelButtonLabel}}
        </button>
        <button *ngIf="this.okButtonLabel" igxButton="flat" (click)="this.close()">
            {{this.okButtonLabel}}
        </button>
    </div>
</ng-template>

<div #toggleDirective="toggle" igxToggle role="dialog" class="igx-time-picker"
    [ngClass]="{'igx-time-picker--dropdown': this.isDropdown, 'igx-time-picker--vertical': this.isVertical && !this.isDropdown}">
    <div *ngIf="!this.isDropdown" class="igx-time-picker__header">
        <h2 class="igx-time-picker__header-hour">
            <span>{{ this.selectedDate | timeFormatPipe }}</span>
        </h2>
    </div>
    <div class="igx-time-picker__main">
        <div class="igx-time-picker__body">
            <div *ngIf="this.showHoursList" #hourList [igxItemList]="'hourList'">
                <span role="spinbutton" [attr.aria-label]="hour" [igxTimeItem]="hour" *ngFor="let hour of hourView">{{ hour }}</span>
            </div>
            <div *ngIf="this.showMinutesList" #minuteList [igxItemList]="'minuteList'">
                <span role="spinbutton" [attr.aria-label]="minute" [igxTimeItem]="minute" *ngFor="let minute of minuteView">{{ minute }}</span>
            </div>
            <div *ngIf="this.showSecondsList" #secondsList [igxItemList]="'secondsList'">
                <span role="spinbutton" [attr.aria-label]="seconds" [igxTimeItem]="seconds" *ngFor="let seconds of secondsView">{{ seconds }}</span>
            </div>
            <div *ngIf="this.showAmPmList" #ampmList [igxItemList]="'ampmList'">
                <span role="spinbutton" [attr.aria-label]="ampm" [igxTimeItem]="ampm" *ngFor="let ampm of ampmView">{{ ampm }}</span>
            </div>
        </div>
        <ng-container
            *ngTemplateOutlet="timePickerActionsDirective ? timePickerActionsDirective.template : defaultTimePickerActions">
        </ng-container>
    </div>
</div>