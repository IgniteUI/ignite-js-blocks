<div class="igx-grid__grouparea" #groupArea
    *ngIf="groupingExpressions.length > 0 || grid.hasGroupableColumns">
    <igx-chips-area (reorder)="chipsOrderChanged($event)" (moveEnd)="chipsMovingEnded()">
        <ng-container *ngFor="let expr of grid.chipsGroupingExpressions; let last = last;">
            <igx-chip [id]="expr.fieldName"
                [title]="getGroupByChipTitle(expr)"
                [removable]="getColumnGroupable(expr.fieldName)"
                [draggable]="getColumnGroupable(expr.fieldName)"
                [displayDensity]="grid.displayDensity"
                (keyDown)="onChipKeyDown($event)"
                (remove)="onChipRemoved($event)"
                (chipClick)="getColumnGroupable(expr.fieldName) ? onChipClicked($event): null"
                [disabled]='!getColumnGroupable(expr.fieldName)'>
                <span>{{ getGroupByChipTitle(expr) }}</span>
                <igx-icon igxSuffix>{{ expr.dir == 1 ? 'arrow_upward' : 'arrow_downward' }}</igx-icon>
            </igx-chip>
            <span class="igx-grid__grouparea-connector">
                <igx-icon [style.visibility]="(!last || this.dropAreaVisible) ? 'visible' : 'hidden'">arrow_forward
                </igx-icon>
            </span>
        </ng-container>
        <div igxGroupAreaDrop
            (igxDrop)="onDragDrop($event)"
            [style.visibility]="this.dropAreaVisible ? 'visible' : 'hidden'"
            [class]="grid.groupAreaHostClass"
            [attr.gridId]='this.grid.id'>
            <ng-container *ngTemplateOutlet="dropAreaTemplateResolved"></ng-container>
        </div>
    </igx-chips-area>
</div>
<ng-template #defaultDropArea>
    <igx-icon class="igx-drop-area__icon">group_work</igx-icon>
    <span class="igx-drop-area__text">{{dropAreaMessage}}</span>
</ng-template>
