<igx-select #dropdownConditions
        type="box"
        [displayDensity]="displayDensity"
        [placeholder]="conditionsPlaceholder"
        (onSelection)="onConditionsChanged($event)"
        [overlaySettings]="dropDownOverlaySettings">
    <igx-prefix>
        <igx-icon *ngIf="expressionUI.expression.condition" family="imx-icons" [name]="getIconName()"></igx-icon>
        <igx-icon *ngIf="!expressionUI.expression.condition">filter_list</igx-icon>
    </igx-prefix>
    <igx-select-item *ngFor="let condition of conditions" [value]="condition" [selected]="isConditionSelected(condition)">
        <igx-icon family="imx-icons" [name]="getCondition(condition).iconName"></igx-icon>
        <span>{{translateCondition(condition)}}</span>
    </igx-select-item>
</igx-select>

<igx-date-picker *ngIf="column.dataType === 'date'" #datePicker mode="dropdown" [(ngModel)]="expressionUI.expression.searchVal" [locale]="grid.locale" [outlet]="grid.outlet">
    <ng-template igxDatePickerTemplate let-openDialog="openDialog" let-value="value">
        <igx-input-group #dropDownTarget type="box" [displayDensity]="displayDensity">
            <input #input
                    igxInput
                    tabindex="0"
                    (click)="openDialog(dropDownTarget.element.nativeElement)"
                    [placeholder]="inputDatePlaceholder"
                    autocomplete="off"
                    [value]="
                        column.formatter
                        ? (value | columnFormatter:column.formatter)
                        : (value | date:column.pipeArgs.format:undefined:grid.locale)
                    "
                    [readonly]="true"
                    [disabled]="expressionUI.expression.condition && expressionUI.expression.condition.isUnary"/>
        </igx-input-group>
    </ng-template>
</igx-date-picker>

<igx-time-picker *ngIf="column.dataType === 'time'" [format]="column.defaultTimeFormat" #timePicker mode="dropdown" [(ngModel)]="expressionUI.expression.searchVal" [outlet]="grid.outlet">
    <ng-template igxTimePickerTemplate let-openDialog="openDialog" let-value="value">
        <igx-input-group #dropDownTarget type="box" [displayDensity]="displayDensity">
            <input #input igxInput tabindex="0" [placeholder]="inputTimePlaceholder"
                    (click)="openDialog(dropDownTarget.element.nativeElement)"
                    autocomplete="off"
                    [igxFocus]="true"
                    [value]="
                        column.formatter
                        ? (value | columnFormatter:column.formatter)
                        : (value | date:column.pipeArgs.format:undefined:grid.locale)
                    "
                    [readonly]="true"
                    [disabled]="expressionUI.expression.condition && expressionUI.expression.condition.isUnary"/>
        </igx-input-group>
    </ng-template>
</igx-time-picker>

<igx-input-group #dropDownTarget *ngIf="column.dataType === 'dateTime'" #inputGroup type="box" [displayDensity]="displayDensity">
    <input #input igxInput tabindex="0"
        [placeholder]="inputDatePlaceholder"
        [igxDateTimeEditor]="column.defaultDateTimeFormat"
        [(ngModel)]="expressionUI.expression.searchVal"/>
</igx-input-group>

<button (click)="onRemoveButtonClick()" igxButton="icon" [displayDensity]="displayDensity" *ngIf="!isSingle" >
    <igx-icon>cancel</igx-icon>
</button>

<igx-buttongroup #logicOperatorButtonGroup
    *ngIf="!isLast"
    [multiSelection]="false">
    <span igxButton [displayDensity]="displayDensity"
        #andButton
        (keydown)="onLogicOperatorKeyDown($event, 0)"
        tabindex="0"
        [selected]="expressionUI.afterOperator === 0"
        type="button"
        (click)="onLogicOperatorButtonClicked($event, 0)">
        {{ grid.resourceStrings.igx_grid_filter_operator_and }}
    </span>

    <span igxButton [displayDensity]="displayDensity"
        #orButton
        tabindex="0"
        (keydown)="onLogicOperatorKeyDown($event, 1)"
        [selected]="expressionUI.afterOperator === 1"
        type="button"
        (click)="onLogicOperatorButtonClicked($event, 1)">
        {{ grid.resourceStrings.igx_grid_filter_operator_or }}
    </span>
</igx-buttongroup>

<div #overlayOutlet
     igxOverlayOutlet
     (pointerdown)="onOutletPointerDown($event)">
</div>
