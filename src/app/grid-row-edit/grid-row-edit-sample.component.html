<div class="sample-wrapper">
    <app-page-header title="Grid Row Editing">
        This sample demonstrates row editing and transaction capabilities of the grid.
    </app-page-header>

    <div class="sample-content">
        <article class="grid-row-edit-wrapper">
            <h4>Grid with rowEditing and without transactions</h4>
            <igx-grid #gridRowEdit [data]="data" [primaryKey]="'ProductID'" width="700px" height="400px" [rowEditable]="true">
                <igx-column width="100px">
                    <ng-template igxCell let-cell="cell" let-val>
                        <button (click)="deleteRow($event, 'gridRowEdit', cell.cellID.rowID)">Delete</button>
                    </ng-template>
                </igx-column>
                <igx-column field="ProductID" width="60px" header="Product ID"></igx-column>
                <igx-column field="ReorderLevel" width="50px" defaultWidth="150px" header="ReorderLever" [dataType]="'number'"
                    editable=" true"></igx-column>
                <igx-column  width="60px" field="ProductName" header="ProductName" [dataType]="'string'" editable="true"></igx-column>
                <igx-column  width="60px" field="UnitsInStock" header="UnitsInStock" [dataType]="'number'" editable="true">
                    <ng-template igxCellEditor let-cell="cell">
                        <input name="units" [(ngModel)]="cell.value" style="color: black" />
                    </ng-template>
                </igx-column>
                <igx-column  width="60px" field="OrderDate" [dataType]="'date'" editable="true"></igx-column>
                <igx-column  width="60px" field="Discontinued" header="Discontinued" [dataType]="'boolean'" editable="true"></igx-column>
            </igx-grid>
        </article>
        <article class="grid-row-edit-wrapper">
            <h4>Grid with rowEditing and with transactions</h4>
            <div>
                    <igx-checkbox [(ngModel)]="pinFlag"><br/>Pinned Columns</igx-checkbox>
                    <igx-checkbox [(ngModel)]="hideFlag"><br/>Hidden Columns</igx-checkbox>
            </div>
            <app-grid-with-transactions>
                <igx-grid #gridRowEditTransaction [data]="data" [primaryKey]="'ProductID'" width="700px" height="400px"
                    [rowEditable]="true">
                    <igx-column width="100px">
                        <ng-template igxCell let-cell="cell" let-val>
                            <button (click)="deleteRow($event, 'gridRowEditTransaction', cell.cellID.rowID)">Delete</button>
                        </ng-template>
                    </igx-column>
                    <igx-column width="100px" field="ProductID" header="Product ID"></igx-column>
                    <igx-column width="100px" field="ReorderLevel" header="ReorderLever" [dataType]="'number'" [hidden]="hideFlag" editable="true"></igx-column>
                    <igx-column width="100px" field="ProductName" header="ProductName" [hidden]="hideFlag" [dataType]="'string'" editable="true"></igx-column>
                    <igx-column width="100px" field="UnitsInStock" header="UnitsInStock" [dataType]="'number'">
                        <ng-template igxCellEditor let-cell="cell">
                            <input name="units" [(ngModel)]="cell.value" style="color: black" />
                        </ng-template>
                    </igx-column>
                    <igx-column width="100px" field="OrderDate" [dataType]="'date'"></igx-column>
                    <igx-column width="100px" field="Discontinued2"  header="PINNED DISCONTINUED" [dataType]="'boolean'" [hidden]="hideFlag" [pinned]="pinFlag"></igx-column>
                    <igx-column width="100px" field="ReorderLevel2"  header="ReorderLevel2" [dataType]="'number'" editable="true"></igx-column>
                    <igx-column width="100px" field="UnitPrice" header="UnitPrice" [dataType]="'number'" [hidden]="hideFlag" editable="true"></igx-column>
                    <igx-column width="100px" field="UnitPrice2" header="PINNED UNIT PRICE" [dataType]="'number'" [pinned]="pinFlag" editable="true"></igx-column>
                    <igx-column width="100px" field="UnitsInStock2" header="UnitsInStock2" [dataType]="'number'" editable="true">
                        <ng-template igxCellEditor let-cell="cell">
                            <input name="units" [(ngModel)]="cell.value" style="color: black" />
                        </ng-template>
                    </igx-column>
                    <igx-column width="100px" field="OrderDate2" [dataType]="'date'" header="PINNED DATE" editable="true" [pinned]="pinFlag"></igx-column>
                    <igx-column width="100px" field="Discontinued" header="Discontinued" [dataType]="'boolean'" editable="true"></igx-column>
                </igx-grid>
            </app-grid-with-transactions>
            <button (click)="addRow('gridRowEditTransaction')">Add Row</button>
            <button (click)="undo('gridRowEditTransaction')">Undo</button>
            <button (click)="redo('gridRowEditTransaction')">Redo</button>
            <button (click)="openCommitDialog('gridRowEditTransaction')">Commit</button>
        </article>
        <article class="grid-row-edit-wrapper">
            <h4>Grid without row editing neither transactions</h4>
            <igx-grid #grid [data]="data" [primaryKey]="'ProductID'" width="700px" height="400px">
                <igx-column width="100px">
                    <ng-template igxCell let-cell="cell" let-val>
                        <button (click)="deleteRow($event, 'gridRowEditTransaction', cell.cellID.rowID)">Delete</button>
                    </ng-template>
                </igx-column>
                <igx-column width="100px" field="ProductID" header="Product ID"></igx-column>
                <igx-column width="100px" field="ReorderLevel" header="ReorderLever" [dataType]="'number'" editable="true"></igx-column>
                <igx-column width="100px" field="ProductName" header="ProductName" [dataType]="'string'" editable="true"></igx-column>
                <igx-column width="100px" field="UnitsInStock" header="UnitsInStock" [dataType]="'number'">
                    <ng-template igxCellEditor let-cell="cell">
                        <input name="units" [(ngModel)]="cell.value" style="color: black" />
                    </ng-template>
                </igx-column>
                <igx-column width="100px" field="OrderDate" [dataType]="'date'"></igx-column>
                <igx-column width="100px" field="Discontinued2" header="PINNED DISCONTINUED" [dataType]="'boolean'" pinned="true"></igx-column>
                <igx-column width="100px" field="ReorderLevel2" header="ReorderLever2" [dataType]="'number'" editable="true"></igx-column>
                <igx-column width="100px" field="UnitPrice" header="UnitPrice" [dataType]="'number'" editable="true"></igx-column>
                <igx-column width="100px" field="UnitPrice2" header="PINNED UNIT PRICE" [dataType]="'number'" pinned="true" editable="true"></igx-column>
                <igx-column width="100px" field="UnitsInStock2" header="UnitsInStock2" [dataType]="'number'" editable="true">
                    <ng-template igxCellEditor let-cell="cell">
                        <input name="units" [(ngModel)]="cell.value" style="color: black" />
                    </ng-template>
                </igx-column>
                <igx-column width="100px" field="PINNED ORDER DATE" [dataType]="'date'" editable="true" pinned="true"></igx-column>
                <igx-column width="100px" field="Discontinued" header="Discontinued" [dataType]="'boolean'" editable="true"></igx-column>
            </igx-grid>
        </article>
        <article class="grid-row-edit-wrapper">
            <h4>Grid without row editing and with transactions</h4>
            <app-grid-with-transactions>
                <igx-grid #gridTransaction [data]="data" [primaryKey]="'ProductID'" width="700px" height="400px">
                    <igx-column>
                        <ng-template igxCell let-cell="cell" let-val>
                            <button (click)="deleteRow($event, 'gridTransaction', cell.cellID.rowID)">Delete</button>
                        </ng-template>
                    </igx-column>
                    <igx-column field="ProductID" header="Product ID"></igx-column>
                    <igx-column field="ReorderLevel" header="ReorderLever" [dataType]="'number'" editable=" true"></igx-column>
                    <igx-column field="ProductName" header="ProductName" [dataType]="'string'" editable="true"></igx-column>
                    <igx-column field="UnitsInStock" header="UnitsInStock" [dataType]="'number'" editable="true">
                        <ng-template igxCellEditor let-cell="cell">
                            <input name="units" [(ngModel)]="cell.value" style="color: black" />
                        </ng-template>
                    </igx-column>
                    <igx-column field="OrderDate" [dataType]="'date'" editable="true"></igx-column>
                    <igx-column field="Discontinued" header="Discontinued" [dataType]="'boolean'" editable="true"></igx-column>
                </igx-grid>
            </app-grid-with-transactions>
            <button (click)="addRow('gridTransaction')">Add Row</button>
            <button (click)="undo('gridTransaction')">Undo</button>
            <button (click)="redo('gridTransaction')">Redo</button>
            <button (click)="openCommitDialog('gridRowEditTransaction')">Commit</button>
        </article>
        <div igxToggle class="dialog__container">
            <div class="dialog__header">Submit the following transactions?</div>
            <div class="dialog__body">
                <p *ngFor="let transaction of currentActiveGrid.transactions" class="dialog__body-transaction">
                    {{ transaction }}
                </p>
            </div>
            <div class="dialog__buttons">
                <button igxButton (click)="commit(currentActiveGrid.id)">Commit</button>
                <button igxButton (click)="toggle.close()">Cancel</button>
            </div>
        </div>
    </div>
</div>